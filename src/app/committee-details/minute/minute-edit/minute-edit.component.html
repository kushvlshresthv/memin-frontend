<div class="minute-edit-container">
  <div class="panel-header">
    <div class="pair">
      <h2>Edit Minute</h2>
        @if(minuteDataService.hasDataChanged()) {
          <button class="btn btn-primary">Save</button>
        }
    </div>
    <p class="panel-subtitle">Update meeting minute details and decisions</p>
  </div>

  <form class="actual-form">
    <div class="form-group">
      <label for="committee-name">Committee Name</label>
      <input
        id="committee-name"
        type="text"
        [(ngModel)]="minuteData().committeeName"
        placeholder="Enter committee name"
        class="form-input"
        name="committeeName"
      />
    </div>


    <div class="form-group">
      <label for="committee-description">Committee Description</label>
      <textarea
        id="committee-description"
        [(ngModel)]="minuteData().committeeDescription"
        placeholder="Enter committee description/aim "
        class="form-textarea"
        name="committeeDescription"
      ></textarea>
    </div>

    <div class="form-group">
      <label for="meeting-date">Meeting Date</label>
      <input
        id="meeting-date"
        type="date"
        [(ngModel)]="minuteData().meetingHeldDate"
        class="form-input"
        name="meetingHeldDate"
      />
    </div>

    <div class="form-group">
      <label for="meeting-held-place">Committee Name</label>
      <input
        id="meeting-held-place"
        type="text"
        [(ngModel)]="minuteData().meetingHeldPlace"
        placeholder="Enter meeting held place"
        class="form-input"
        name="meetingHeldPlace"
      />
    </div>


    <div class="form-group">
      <label>Agendas</label>
      <div class="decisions-list">
        @for(agenda of minuteData().agendas; track agenda.agendaId) {
          <div class="decision-item">
            <input
              [(ngModel)]="agenda.agenda"
              placeholder="Enter decision title"
              class="form-input"
              [name]="'agenda-' + agenda.agendaId"
            />
          </div>
        }
      </div>
    </div>

    <div class="form-group">
      <label>Decisions</label>
      <div class="decisions-list">
        @for(decision of minuteData().decisions; track decision.decisionId) {
          <div class="decision-item">
            <input
              [(ngModel)]="decision.decision"
              placeholder="Enter decision title"
              class="form-input"
              [name]="'decision-' + decision.decisionId"
            />
          </div>
        }
      </div>
    </div>
  </form>
</div>
